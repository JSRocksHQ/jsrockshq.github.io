<!DOCTYPE html>
<html>
    <head>
        
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="description" content="Articles, updates, tools, News and tutorials about ECMA6: Harmony">
        <meta name="keywords" content="News, tools, updates, tutorials, articles, ES6, JavaScript, harmony, ecma6, ecma">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Módulos ES6 hoje com o 6to5 - ES6 Rocks</title>
        <link rel="shortcut icon" type="image/png" href="img/favicon.png"/>
        

        
        <script src="/js/vendor/modernizr-2.6.2-respond-1.1.0.min.js"></script>
         <script src="/js/vendor/prism.js"></script>
        

        
        <meta property="og:image" content="http://es6rocks.com/images/es6rocks.jpg" />
        <meta property="og:title" content="ES6Rocks" />
        <meta property="og:description" content="Articles and News about ECMA6: Harmony" />
        
        

        
        <link rel="stylesheet" href="/css/vendor/normalize.min.css" />
        <link rel="stylesheet" href="/css/vendor/prism.css" />
        <link rel="stylesheet" href="/css/main.css" />
        

    </head>
    <body data-page-type="article">

        <div class="header-container">
    <div class="decorator-line dl-1"></div>
    <div class="decorator-line dl-2"></div>
    <header class="wrapper clearfix">

        <div class="page-options">
            <span class="alternative-text text"> A collaborative website about the ECMAScript sixth edition, a.k.a. ES6.</span>
            <div class="languages">
                <a class="icon portuguese" href="/pt-br" >Ler em Português</a>
                <a class="icon english" href="/" >Read in English</a>
            </div>
            <div class="social">
                
                <a class="icon tt" href="http://twitter.com/es6rocks" >ES6Rocks on Twitter</a>
                <a class="icon gh" href="http://github.com/es6rocks" >ES6Rocks on Github</a>
            </div>
        </div>

        <div class="navigation-container">
            <nav class='navigation' style="visibility: hidden;">
                <a href="/posts">Posts</a>
                <a href="/about">About</a>
                <a href="/contact">Contact</a>
            </nav>

            <h1>
                <a href="http://es6rocks.com" title="ES6 Rocks - News, tools, updates, tutorials and articles about ES6">
                    ES6 Rocks - News, tools, updates, tutorials and articles about ES6
                    <img class="es6-logo" src='/img/es6-logo.png' title="ES6Rocks Logo" alt="ES6 Rocks" />
                </a>
            </h1>

            <nav class="navigation-search" style="visibility: hidden;">
                <form>
                    <input id="ipt-search" type="search" placeholder="Search anything?" />
                    <span class="ipt-search-icon"></span>
                    <input type="submit" value="OK" />
                </form>
                <em class="popular-searches alternative-text">
                    Popular searches:
                    <a href="/search/es6">es6</a>, <a href="/search/userMedia">userMedia</a>, <a href="search/foo">foo</a>
                </em>
            </nav>

            <a href="https://github.com/es6rocks/es6rocks.github.io" class="send-a-post button">Send a post</a>

        </div>

    </header>
</div>

        <div class="main-container">
            <div class="main wrapper clearfix">

                <div>
                    <div class="article-meta">
                        <address>
                            <img src="http://www.gravatar.com/avatar/572696200604e59baa59ee90d61f7d02.png" class="author-avatar" alt="Jaydson Gomes"/>
                            <span class="alternative-text author-label">Posted by</span>
                            <a href="" rel="author" class="author-link">
                                Jaydson Gomes
                            </a>
                        </address>

                        <time datetime="Tue Oct 28 2014 10:49:54 GMT-0200 (BRST)" class="alternative-text">Tue Oct 28 2014 10:49:54 GMT-0200 (BRST)</time>

                        <h2>Módulos ES6 hoje com o 6to5</h2>

                        <ul class="article-tags">
                            
                                <li>
                                    <a class="categoryTag Modules" href="/categories/pt-br/modules">Modules</a>
                                </li>
                            
                                <li>
                                    <a class="categoryTag  Tutorial" href="/categories/pt-br/tutorial"> Tutorial</a>
                                </li>
                            
                        </ul>

                        <div class="icon-group">
                            <a href="javascript: void(0);" class="icon font-up" title="Increase font size">Bigger font size</a>
                            <a href="javascript: void(0);" class="icon font-down" title="Decrease font size">Smaller font size</a>
                            <a href="javascript: void(0);" class="icon contrast" title="Switch contrast colors">Switch the color contrast</a>
                            <a href="javascript: void(0);" class="icon comments" title="Comments">See comments and create new comment</a>
                        </div>
                    </div>

                    <div class="main-article wrapper">
                        <article class="article-content"><p>
Eu postei a imagem abaixo no <a href="https://twitter.com/jaydson/status/526882798263881730">Twitter</a>, mostrando o quanto feliz eu etava.<br>É muito legal o que os <a href="http://en.wikipedia.org/wiki/Source-to-source_compiler">transpilers</a> podem fazer. No mundo do JavaScript é como uma máquina do tempo, onde podemos avançar para um futuro próximo de coisas muito legais que a ES6 irá nos trazer.<br>Nesse tutorial nós vamos mostrar como começar a escrever <a href="http://jsmodules.io/">ES6 modules</a> hoje, usando o excelente <a href="https://github.com/sebmck/6to5">6to5</a>;  </p>
<p><img src="/img/modules-today-6to5.png" alt="modules today with 6to5"></p>
<h1 id="primeiro-passo">Primeiro passo</h1>
<p>Se você não esta familiarizado com módulos ES6, por favor dê uma olhada no <a href="http://jsmodules.io/">JSModules.io</a> para ter uma breve introdução.<br>Eu também recomendo a leitura do artigo <a href="http://es6rocks.com/pt-br/2014/07/a-new-syntax-for-modules-in-es6/">Uma nova sintaxe para módulos na ES6</a> do <a href="http://twitter.com/jcemer">@jcemer</a>, aqui mesmo no <a href="http://es6rocks.com">ES6Rocks</a>, que cobre um monte de coisas mais legais sobre módulos no JavaScript.<br>Para esse tutorial nós vamos utilizar o 6to5 como transpiler.<br>Basicamente, o 6to5 converte código ES6 em vanilla ES5, fazendo com que você possa usar features de ES6 hoje mesmo.<br>O <em>6to5</em>  possui algumas vantagens sobre outros transpilers, aqui estão algumas das principais features:<br><strong>Readable</strong>: se possível, a formatação é mantida para que o seu código gerado seja o mais semelhante possível.<br><strong>Extensible</strong>: uma grande variedade de plugins e suporte a Browsers.<br><strong>Lossless</strong>: source map para que você possa depurar o código compilado com facilidade.<br><strong>Compact</strong>: mapeia diretamente para equivalente código ES5, sem qualquer necessidade de um runtime.  </p>
<h1 id="escrevendo-m-dulos">Escrevendo módulos</h1>
<p>Vamos começar a escrever módulos!<br>Nossa aplicação não vai fazer nada além de logs, mas a ideia principal aqui é fazer você entender como os módulos funcionam e como implementar módulos ES6 agora em suas aplicações.<br>Nossa app possui essa estrutura básica:  </p>
<pre><code>├── Gruntfile.js
├── package.json
└── src
    ├── app.js
    ├── modules
    │   ├── bar.js
    │   ├── baz.js
    │   └── foo.js
    └── sample
        └── index.html
</code></pre><p><code>app.js</code> é o arquivo principal, e dentro do diretório <code>modules</code> nós vamos armazenar os nossos módulos.<br>Dê uma olhada no app.js:  </p>
<pre><code class="lang-javascript">import foo from &quot;./modules/foo&quot;;
import bar from &quot;./modules/bar&quot;;

console.log(&#39;From module foo &gt;&gt;&gt; &#39;, foo);
console.log(&#39;From module bar &gt;&gt;&gt; &#39;, bar);
</code></pre>
<p>É bem simples. O código acima faz exatamente o que parece.<br>Nós estamos importando o módulo <code>foo</code> e o módulo <code>bar</code>, e então estamos logando o conteúdo de cada um.<br>Para ser mais claro, vamos olhar cada módulo:  </p>
<pre><code class="lang-javascript">// foo
let foo = &#39;foo&#39;;

export default foo;
</code></pre>
<pre><code class="lang-javascript">// bar
let bar = &#39;bar&#39;;

export default bar;
</code></pre>
<p>Em ambos os módulos, nós estamos apenas exportando as strings &#39;foo&#39; e &#39;bar&#39;.<br>Quando importamos o módulo, nossa variável passa a ter o valor que exportamos.<br>Então <code>foo</code> em <code>import foo from &quot;foo&quot;</code> possui o valor <code>&quot;foo&quot;</code> que exportamos em <code>export default foo</code>.<br>Você também pode exportar objetos, classes, funções, etc.<br>Agora, você pode começar a hackear este simples exemplo e escrever seus próprios módulos.  </p>
<h1 id="build">Build</h1>
<p>Como você deve saber, <a href="http://kangax.github.io/compat-table/es6/">módulos ES6 ainda não são suportados</a> por nenhum browser e nem no node.<br>A única maneira de escrever módulos ES6 hoje é usando um transpiler.<br>Como mencionei antes, estamos usando o 6to5, que faz exatamente o que queremos.<br>O task runner escolhido foi o <a href="http://gruntjs.com/">Grunt</a>, e vamos utilizar o <a href="https://github.com/sindresorhus/grunt-6to5">grunt-6to5</a>, projeto do <a href="https://twitter.com/sindresorhus">@sindresorhus</a>.  </p>
<pre><code class="lang-shell">npm install grunt-cli -g
npm install grunt --save-dev
npm install grunt-6to5 --save-dev
</code></pre>
<p>O nosso Gruntfile vai parecer com algo assim:  </p>
<pre><code class="lang-javascript">grunt.initConfig({
    &#39;6to5&#39;: {
        options: {
            modules: &#39;common&#39;
        },

        build: {
            files: [{
                expand: true,
                cwd: &#39;src/&#39;,
                src: [&#39;**/*.js&#39;],
                dest: &#39;dist/&#39;,
            }],
        }
    }
});
</code></pre>
<p>Uma configuração bem simples e estamos quase lá.<br>A task 6to5 roda o 6to5 no diretório <code>src</code> e faz o transpile do código para o diretório <code>dist</code>.<br>Note a opção <code>modules: &#39;common&#39;</code>. Essa opção diz para o 6to5 fazer o transpile dos módulos para ES5, usando o estilo de módulos <a href="http://wiki.commonjs.org/wiki/CommonJS">CommonJS</a>.<br>O 6to5 também suporta <a href="http://requirejs.org/docs/whyamd.html">AMD</a>, o que é muito legal, porque podemos integrar os módulos ES6 no nosso ambiente atual, independente do nosso estilo de módulos legado/atual escolhido.  </p>
<p>Para testar no browser, eu fiz uma copy task que apenas copia o arquivo <code>sample/index.html</code> para o diretório <code>dist</code>.<br>O arquivo HTML:  </p>
<pre><code class="lang-markup">&lt;!doctype html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;title&gt;ES6 modules 6to5&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;script src=&quot;//[cdnjs URL]/require.min.js&quot;&gt;&lt;/script&gt;
    &lt;script&gt;
        require([&#39;app.js&#39;]);
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
<p>Olhe para o código acima, nós colocamos o RequireJS como a nossa biblioteca AMD e depois basta fazer um require da nossa app.<br>Para esse teste funcionar, você irá precisar alterar a opção <code>modules: amd</code>.  </p>
<h1 id="running">Running</h1>
<p>Agora que estamos com tudo pronto, você pode apenas rodar o <code>grunt</code>.<br>Se você perdeu algo até aqui, você pode clonar esse repositório <a href="https://github.com/es6rocks/es6-modules-today-with-6to5">es6-modules-today-with-6to5</a> e rodar <code>npm install</code>.<br>Lembre-se, a task do Grunt vai gerar o diretório <code>dist</code> com o código transpilado.<br>Se você escolher usar CommonJS, você pode testar a app com o node:  </p>
<pre><code class="lang-shell">node dist/app.js
</code></pre>
<p><img src="/img/running-node.png" alt="Running with node"></p>
<p>Se você optou por usar AMD, apenas sirva o diretório <code>dist</code>, e acesse a página <code>index.html</code>.<br><img src="/img/amd-es6.png" alt="AMD ES6"></p>
<h1 id="conclus-o">Conclusão</h1>
<p>Com este simples tutorial você pode ver como é fácil configurar um ambiente ES6 para trabalhar com módulos.<br>O 6to5 é uma excelente ferramente que você pode uasr hoje para transpilar código ES6 para ES5.<br>Forke o repositório <a href="https://github.com/es6rocks/es6-modules-today-with-6to5">es6-modules-today-with-6to5</a> e submeta issues, perguntas ou pull-requests.<br>Comentário são bem-vindos :)</p>
</article>
                    </div>
                </div>

                <div class="icon-group">
                    <a href="javascript: void(0);" class="icon fb-share">Share on Facebook</a>
                    <a href="javascript: void(0);" class="icon tt-share">Share on Twitter</a>
                    <a href="javascript: void(0);" class="icon gp-share">Share on Google Plus</a>
                </div>

                <div class="comments wrapper">
                    <h4 class="wrapper-label"><span class="icon comments-label"></span><span>Comments</span></h4>

                    <div class="comments-container">
                        <div id="disqus_thread"></div>
                        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
                    </div>
                </div>

                <h3 class="wrapper-label" style="visibility: hidden;"><span class="icon bolt"></span><span>Other posts</span></h3>

                <div class="other-articles-container">
                    <article>
                        <asside class="article-share">
                            <a href="javascript: void(0);" class="icon fb-share">Share on Facebook</a>
                            <a href="javascript: void(0);" class="icon tt-share">Share on Twitter</a>
                            <a href="javascript: void(0);" class="icon gp-share">Share on Google Plus</a>
                        </asside>

                        <time datetime="Tue Sep 23 2014 01:01:41 GMT-0300 (BRT)" class="alternative-text">Tue Sep 23 2014 01:01:41 GMT-0300 (BRT)</time>

                        <a href="/articles/thisArticle"><h3>Arrow Functions and their scope</h3></a>

                        <abstract class="alternative-text">
                            Among so many great new features in ES6, Arrow Functions(or Fat Arrow Functions) is one that desirves attention! It is not just awesome...
                        </abstract>

                        <ul class="article-tags">
                            <li>
                                <a href="/tags/scope">scope</a>
                            </li>
                            <li>
                                <a href="/tags/articles">articles</a>
                            </li>
                            <li>
                                <a href="/tags/basics">basics</a>
                            </li>
                        </ul>

                        <address>

                            <img src="" class="author-avatar" alt=""/>
                            <span class="alternative-text author-label">Posted by</span>
                            <a href="http://felipenmoura.org/home" rel="author" class="author-link">
                                Felipe N. Moura
                            </a>
                        </address>
                    </article>

                    <article>

                        <asside class="article-share">
                            <a href="javascript: void(0);" class="icon fb-share">Share on Facebook</a>
                            <a href="javascript: void(0);" class="icon tt-share">Share on Twitter</a>
                            <a href="javascript: void(0);" class="icon gp-share">Share on Google Plus</a>
                        </asside>

                        <time datetime="Tue Sep 23 2014 01:01:41 GMT-0300 (BRT)" class="alternative-text">Tue Sep 23 2014 01:01:41 GMT-0300 (BRT)</time>

                        <a href="/articles/thisArticle">
                            <h3>Arrow Functions and their scope</h3>
                        </a>

                        <abstract class="alternative-text">
                            Among so many great new features in ES6, Arrow Functions(or Fat Arrow Functions) is one that desirves attention! It is not just awesome...
                        </abstract>

                        <ul class="article-tags">
                            <li>
                                <a href="/tags/scope">scope</a>
                            </li>
                            <li>
                                <a href="/tags/articles">articles</a>
                            </li>
                            <li>
                                <a href="/tags/basics">basics</a>
                            </li>
                        </ul>

                        <address>

                            <img src="" class="author-avatar" alt=""/>
                            <span class="alternative-text author-label">Posted by</span>
                            <a href="http://felipenmoura.org/home" rel="author" class="author-link">
                                Felipe N. Moura
                            </a>
                        </address>
                    </article>

                    <article>

                        <asside class="article-share">
                            <a href="javascript: void(0);" class="icon fb-share">Share on Facebook</a>
                            <a href="javascript: void(0);" class="icon tt-share">Share on Twitter</a>
                            <a href="javascript: void(0);" class="icon gp-share">Share on Google Plus</a>
                        </asside>

                        <time datetime="Tue Sep 23 2014 01:01:41 GMT-0300 (BRT)" class="alternative-text">Tue Sep 23 2014 01:01:41 GMT-0300 (BRT)</time>

                        <a href="/articles/thisArticle">
                            <h3>Arrow Functions and their scope</h3>
                        </a>

                        <abstract class="alternative-text">
                            Among so many great new features in ES6, Arrow Functions(or Fat Arrow Functions) is one that desirves attention! It is not just awesome...
                        </abstract>

                        <ul class="article-tags">
                            <li>
                                <a href="/tags/scope">scope</a>
                            </li>
                            <li>
                                <a href="/tags/articles">articles</a>
                            </li>
                            <li>
                                <a href="/tags/basics">basics</a>
                            </li>
                        </ul>

                        <address>
                            <img src="" class="author-avatar" alt=""/>
                            <span class="alternative-text author-label">Posted by</span>
                            <a href="http://felipenmoura.org/home" rel="author" class="author-link">
                                Felipe N. Moura
                            </a>
                        </address>
                    </article>
                </div>
            </div>

            <div class="go-to-top-wrapper wrapper clearfix">
                <div class="decorator-line dl-5"></div>
                <input type="button" value="Go to Top" class="button btn btn-goToTop" />
                <div class="decorator-line dl-6"></div>
            </div>
        </div>

        <div class="footer-container">
    <div class="credits">
        Brought to you by <a href="http://jaydson.org/">Jaydson Gomes</a> and the <a href="https://github.com/es6rocks/es6rocks.github.io/graphs/contributors">awesome contributors</a>.
        <span class="designed-by">Designed by <a href="http://italowaxman.com/">Ítalo Waxman</a></span>
    </div>
    <footer class="wrapper">
        <div class="footer-content">
            <asside class="logo-desc">
                <img src="/img/footer-logo.jpg" class="footer-logo" />
                <span class="footer-desc">
                    Content licensed under <a href="https://creativecommons.org/" target="_blank">Creattive Commons</a>&nbsp;&nbsp;-&nbsp;&nbsp;Code licensed under <a href="http://opensource.org/licenses/MIT" target="_blank">MIT</a><br/>
                    Static website proudly powered by <a href="https://github.com/es6rocks/harmonic" target="_blank">Harmonic</a>
                </span>
            </asside>
            <asside class="social">
                
                <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://es6rocks.com/" data-text="Articles, news, tools and tutorials about #ES6" data-via="es6rocks">Tweet</a>
                <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
                
                
                <div class="fb-like" data-href="http://es6rocks.com/" data-layout="button_count" data-action="like" data-show-faces="false" data-share="false"></div>
                
                
                <div class="g-plusone" data-size="medium" data-href="http://es6rocks.com/"></div>
                <script type="text/javascript">
                  (function() {
                    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
                    po.src = 'https://apis.google.com/js/platform.js';
                    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
                  })();
                </script>
                
                
                <iframe src="http://ghbtns.com/github-btn.html?user=es6rocks&repo=es6rocks.github.io&type=watch&count=true"
                        allowtransparency="true"
                        frameborder="0"
                        scrolling="0"
                        width="110"
                        height="20"></iframe>
                
            </asside>
            <asside class="js-logo">
                <img src="/img/js-logo.jpg" />
            </asside>
        </div>
    </footer>
    <div class="decorator-line dl-7"></div>
</div>

<script type="text/javascript" src="/js/main.js" charset="utf-8"></script>


<div id="fb-root"></div>
<script>
(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_GB/sdk.js#xfbml=1&appId=742886022434997&version=v2.0";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));
</script>



<script>
    (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
    function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
    e=o.createElement(i);r=o.getElementsByTagName(i)[0];
    e.src='//www.google-analytics.com/analytics.js';
    r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
    ga('create','UA-51061271-1');ga('send','pageview');
</script>

    </body>
</html>
